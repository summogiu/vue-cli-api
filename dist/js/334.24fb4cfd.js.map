{"version":3,"file":"js/334.24fb4cfd.js","mappings":"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","sources":["webpack://vue-cli-api/./src/mixins/followMixin.js","webpack://vue-cli-api/./src/components/backstage/PaginationComponents.vue","webpack://vue-cli-api/./src/components/backstage/PaginationComponents.vue?56d9","webpack://vue-cli-api/./src/views/user/ProductsList.vue","webpack://vue-cli-api/./src/views/user/ProductsList.vue?a638"],"sourcesContent":["export default {\r\n  data () {\r\n    return {\r\n      followProducts: []\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.params.category' () {\r\n      this.followProducts = JSON.parse(localStorage.getItem('followArray'))\r\n    },\r\n    '$route.params.productid' () {\r\n      this.followProducts = JSON.parse(localStorage.getItem('followArray'))\r\n    }\r\n  },\r\n  methods: {\r\n    addFollow (item) { // 增加、移除關注\r\n      const index = this.followProducts.findIndex(followedItem => followedItem.id === item.id)\r\n\r\n      if (index !== -1) {\r\n        this.followProducts.splice(index, 1)\r\n      } else {\r\n        this.followProducts.unshift(item)\r\n      }\r\n\r\n      try {\r\n        localStorage.setItem('followArray', JSON.stringify(this.followProducts))\r\n      } catch (error) {\r\n        console.error('Error saving to localStorage', error)\r\n      }\r\n    },\r\n    isFollowed (item) { // 判斷是否為關注狀態\r\n      return this.followProducts.some(followedItem => followedItem.id === item.id)\r\n    }\r\n  },\r\n  created () {\r\n    try {\r\n      this.followProducts = JSON.parse(localStorage.getItem('followArray')) || []\r\n    } catch (error) {\r\n      console.error('Error loading from localStorage', error)\r\n    }\r\n  }\r\n}\r\n","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center page-list\">\r\n      <li class=\"\">\r\n        <button class=\"page-np-btn\" href=\"#\" aria-label=\"Previous\"\r\n                @click.prevent=\"changePage(pages.current_page - 1)\"\r\n                :disabled=\"!pages.has_pre\">\r\n          <i class=\"bi bi-arrow-left page-np-i\"\r\n                  :class=\"{ 'page-disabled' : !pages.has_pre }\"></i>\r\n        </button>\r\n      </li>\r\n      <li class=\"page-li\" v-for=\"item in pages.total_pages\" :key=\"item\">\r\n        <button class=\"page-btn\" href=\"#\" @click.prevent=\"changePage(item)\"\r\n                :class=\"{ 'page-active': pages.current_page === item }\"\r\n                :disabled=\"pages.current_page === item\"\r\n                >{{ item }}</button>\r\n      </li>\r\n      <li class=\"\">\r\n        <button class=\"page-np-btn\" href=\"#\" aria-label=\"Next\"\r\n                @click.prevent=\"changePage(pages.current_page + 1)\"\r\n                :disabled=\"!pages.has_next\">\r\n          <i class=\"bi bi-arrow-right page-np-i\"\r\n                  :class=\"{ 'page-disabled' : !pages.has_next }\"></i>\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.page-list{\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 50px 0;\r\n\r\n  .page-np-btn{\r\n    border: none;\r\n    background-color: transparent;\r\n  }\r\n  .page-btn{\r\n    height: 50px;\r\n    width: 50px;\r\n    border-radius: 50%;\r\n    border: 1px solid $subColor2;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin: 0 5px;\r\n    color: $subColor2;\r\n    background-color: transparent;\r\n  }\r\n  .page-active{\r\n    background-color: $subColor2;\r\n    color: $subColor;\r\n  }\r\n\r\n  .page-np-i{\r\n    color: $subColor2;\r\n    font-size: 24px;\r\n    margin: 0 15px;\r\n  }\r\n  .page-disabled{\r\n    color: $more-linkColor;\r\n    cursor: default;\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    changePage (page) {\r\n      this.$emit('change-page', page)\r\n      window.scrollTo(0, 0)\r\n      console.log('前往頁數', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PaginationComponents.vue?vue&type=template&id=2812a295\"\nimport script from \"./PaginationComponents.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponents.vue?vue&type=script&lang=js\"\n\nimport \"./PaginationComponents.vue?vue&type=style&index=0&id=2812a295&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <div class=\"product-list-box\">\r\n      <div class=\"filter-select-box\">\r\n        <select class=\"filter-select\" v-model=\"selectedOption\">\r\n          <option v-for=\"item in options\" :key=\"item.text\" :data-sort=\"item.sort\"\r\n                  :disabled=\"item.text === '價格排序'\">\r\n            {{ item.text }}\r\n            </option>\r\n        </select>\r\n      </div>\r\n      <ul class=\"product-list-ul toRight-1\">\r\n        <li v-for=\"(item, i) in showProducts\" :key=\"item.id\"\r\n                :class=\"[ i === 0 ? 'big-size-li' : '',\r\n                          i === showProducts.length-1 && showProducts.length > 9 ? 'big-size-li' : '']\">\r\n          <div class=\"product-content\" @click=\"openMore(item)\">\r\n            <img :src=\"item.imageUrl\" alt=\"\" class=\"thumbnail\">\r\n            <p>{{ item.title }}</p>\r\n          </div>\r\n          <div class=\"price-box\">\r\n              <p class=\"price\">NT${{ $filters.currency(item.price) }}</p>\r\n              <div class=\"product-btn-box\">\r\n                <button class=\"cart-plus-btn\"\r\n                        @click=\"addCart(item.id)\"\r\n                        :disabled=\"this.status.loadingItem === item.id\">\r\n                        <div class=\"spinner-border text-danger spinner-border-sm\" role=\"status\"\r\n                            v-if=\"this.status.loadingItem === item.id\"></div>\r\n                            <i class=\"bi bi-cart-plus\" v-else></i></button>\r\n                <button class=\"follow-plus-btn\"\r\n                        @click=\"addFollow(item)\">\r\n                            <i class=\"bi bi-heart\" v-if=\"!isFollowed(item)\"></i>\r\n                            <i class=\"bi bi-heart-fill follow-plus-btn-isFollow\" v-else></i>\r\n                            </button>\r\n              </div>\r\n            </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <PaginationComponents :pages=\"pagination\" @change-page=\"getPagination\" v-if=\"showProducts.length !== 0\"></PaginationComponents>\r\n    <p class=\"totle-item-num\">共{{ this.nowProductsTotle }}項產品</p>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.product-list-box{\r\n    margin-top: 250px;\r\n    animation: fadeIn 1s;\r\n\r\n    // 價格排序\r\n    .filter-select-box{\r\n      display: flex;\r\n      justify-content: end;\r\n      width: 90%;\r\n      margin: 50px 0;\r\n\r\n      .filter-select{\r\n        height: 60px;\r\n        border-radius: 50px;\r\n        padding: 0 66px 0 50px;\r\n        -webkit-appearance: none;\r\n        -moz-appearance: none;\r\n        appearance: none;\r\n        background-image: url('@/assets/images/icon/211614_down_b_arrow_icon.png');\r\n        background-repeat: no-repeat;\r\n        background-position: 120px 20px;\r\n        background-size: 16px;\r\n      }\r\n    }\r\n    // 商品列表\r\n    .product-list-ul{\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: start;\r\n      margin: 0 12px;\r\n\r\n      li{\r\n        margin: 0 12px 50px;\r\n        width: calc(25% - 24px);\r\n        position: relative;\r\n\r\n        .product-content{\r\n          cursor: pointer;\r\n\r\n          p{\r\n            width: 220px;\r\n            white-space: nowrap;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            object-fit: cover;\r\n          }\r\n        }\r\n        .thumbnail{\r\n          width: 100%;\r\n          height: 400px;\r\n          object-fit: cover;\r\n        }\r\n        .price-box{\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n\r\n            .product-btn-box{\r\n              display: flex;\r\n              align-items: center;\r\n\r\n              .cart-plus-btn,.follow-plus-btn{\r\n                padding: 0;\r\n                width: 30px;\r\n                height: 30px;\r\n                margin-left: 10px;\r\n              }\r\n            }\r\n        }\r\n        &::before{\r\n            position: absolute;\r\n            bottom: -5px;\r\n            left: 0;\r\n            content: '';\r\n            width: 100%;\r\n            height: 1px;\r\n            background: $subColor4;\r\n          }\r\n\r\n        &:hover .thumbnail{\r\n          animation: flash 0.2s ease-out;\r\n        }\r\n      }\r\n      .big-size-li{\r\n        width: calc(50% - 24px);\r\n      }\r\n    }\r\n  }\r\n@media (max-width:919px){\r\n  .product-list-box{\r\n    margin-top: 70px;\r\n\r\n    .filter-select-box{\r\n      justify-content: center;\r\n      width: 100%;\r\n    }\r\n\r\n    .product-list-ul{\r\n      flex-direction: column;\r\n      align-items: center;\r\n\r\n      li,.big-size-li{\r\n        margin: 20px 0;\r\n        width: 100%;\r\n        max-width: 400px;\r\n      }\r\n    }\r\n  }\r\n  }\r\n\r\n.totle-item-num{\r\n  text-align: center;\r\n  margin-bottom: 50px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport PaginationComponents from '@/components/backstage/PaginationComponents.vue'\r\nimport emitter from '@/methods/emitter'\r\nimport follow from '@/mixins/followMixin'\r\n\r\nexport default {\r\n  components: {\r\n    PaginationComponents\r\n  },\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      searchContent: '',\r\n      pagination: {\r\n        current_page: 1,\r\n        has_next: '',\r\n        has_pre: '',\r\n        total_pages: 0\r\n      },\r\n      perpage: 10, // 每頁顯示筆數\r\n      isLoading: false,\r\n      status: {\r\n        loadingItem: '' // 對應品項ID 製作讀取效果\r\n      },\r\n      options: [ // 價格排序選項\r\n        {\r\n          text: '價格排序',\r\n          sort: ''\r\n        },\r\n        {\r\n          text: '由低至高',\r\n          sort: 'up'\r\n        },\r\n        {\r\n          text: '由高至低',\r\n          sort: 'down'\r\n        }\r\n      ],\r\n      selectedOption: '價格排序' // 選擇中的排序選項\r\n    }\r\n  },\r\n  watch: {\r\n    '$route.params.category' () {\r\n      this.getProducts()\r\n    },\r\n    showProducts () { // 控制頁數\r\n      if (this.searchContent) {\r\n        const includesList = this.products.filter(item => item.title.includes(this.searchContent))\r\n        this.pagination.total_pages = Math.ceil(includesList.length / this.perpage)\r\n      } else {\r\n        this.pagination.total_pages = Math.ceil(this.products.length / this.perpage)\r\n      }\r\n      this.selectedOption = '價格排序'\r\n    },\r\n    selectedOption (newV) { // 控制價格排序\r\n      const nowOption = this.options.find(option => option.text === newV)\r\n      if (nowOption.sort === 'up') {\r\n        this.products.sort((a, b) => a.price - b.price) // (低至高)\r\n      } else if (nowOption.sort === 'down') {\r\n        this.products.sort((a, b) => b.price - a.price) // (高至低)\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    showProducts () {\r\n      const minData = (this.pagination.current_page * this.perpage) - this.perpage + 1 // 每頁第一筆\r\n      const maxData = (this.pagination.current_page * this.perpage) // 每頁最後一筆\r\n      if (!this.searchContent) {\r\n        return this.products.filter((item, i) => i + 1 >= minData && i + 1 <= maxData)\r\n      } else if (this.searchContent) {\r\n        const includesList = this.products.filter(item => item.title.includes(this.searchContent))\r\n        return includesList.filter((item, i) => i + 1 >= minData && i + 1 <= maxData)\r\n      }\r\n      return []\r\n    },\r\n    nowProductsTotle () { // 篩選後商品數\r\n      if (!this.searchContent) {\r\n        return this.products.length\r\n      } else if (this.searchContent) {\r\n        const includesList = this.products.filter(item => item.title.includes(this.searchContent))\r\n        return includesList.length\r\n      }\r\n      return 0\r\n    }\r\n  },\r\n  mixins: [emitter, follow],\r\n  methods: {\r\n    getProducts () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.isLoading = true\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          if (res.data.success) { // 篩選產品分類\r\n            if (!this.$route.params.category) { // 不分類\r\n              this.products = res.data.products\r\n            } else if (this.$route.params.category === '正在關注') {\r\n              this.products = this.followProducts\r\n            } else if (res.data.products.some(item => item.category.includes(this.$route.params.category))) { // 風格\r\n              const categoryList = res.data.products.filter(item => item.category.includes(this.$route.params.category))\r\n              this.products = categoryList\r\n            } else { // 種類\r\n              const categoryList = res.data.products.filter(item => item.title.includes(this.$route.params.category))\r\n              this.products = categoryList\r\n            }\r\n            this.getTotlePage()\r\n            this.getPagination()\r\n            document.title = `${this.$route.params.category}商品列表-In My Light`\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    },\r\n    getTotlePage () {\r\n      this.pagination.total_pages = Math.ceil(this.products.length / this.perpage)\r\n    },\r\n    getPagination (page = 1) {\r\n      this.pagination.current_page = page\r\n      this.pagination.has_next = this.pagination.current_page < this.pagination.total_pages\r\n      this.pagination.has_pre = this.pagination.current_page > 1\r\n    },\r\n    openMore (item) {\r\n      this.$emit('openMore', item)\r\n      this.$emit('addRecentlyViewed', item)\r\n    },\r\n    addCart (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      this.$http.post(api, { data: { product_id: id, qty: 1 } })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.$emit('getCart')\r\n            this.status.loadingItem = ''\r\n          } else {\r\n            console.log('加到購物車失敗', res.data.message)\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log('加到購物車失敗', error)\r\n        })\r\n    },\r\n    searchKey (key) {\r\n      this.getPagination() // 先換回第一頁 在進行篩選 避免篩選解果只有一頁導致顯示錯誤\r\n      this.searchContent = key\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.searchContent = this.$route.query.searchContent // 接收全類搜尋結果\r\n  },\r\n  mounted () {\r\n    emitter.on('search', this.searchKey) // 接收分類搜尋結果\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductsList.vue?vue&type=template&id=3f9d9710\"\nimport script from \"./ProductsList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsList.vue?vue&type=style&index=0&id=3f9d9710&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["data","followProducts","watch","this","JSON","parse","localStorage","getItem","methods","addFollow","item","index","findIndex","followedItem","id","splice","unshift","setItem","stringify","error","console","isFollowed","some","created","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","href","onClick","_cache","_withModifiers","$event","$options","changePage","$props","pages","current_page","disabled","has_pre","_normalizeClass","_hoisted_4","_Fragment","_renderList","total_pages","key","_hoisted_5","_hoisted_6","has_next","_hoisted_7","props","page","$emit","window","scrollTo","log","__exports__","render","role","_createVNode","_component_Loading","active","$data","isLoading","selectedOption","options","text","sort","showProducts","i","length","openMore","src","imageUrl","alt","_toDisplayString","title","_hoisted_8","_ctx","$filters","currency","price","_hoisted_9","addCart","status","loadingItem","_hoisted_11","_hoisted_12","_hoisted_10","_hoisted_15","_hoisted_14","_hoisted_13","_createBlock","_component_PaginationComponents","pagination","onChangePage","getPagination","_createCommentVNode","_hoisted_16","nowProductsTotle","components","PaginationComponents","products","product","searchContent","perpage","getProducts","includesList","filter","includes","Math","ceil","newV","nowOption","find","option","a","b","computed","minData","maxData","mixins","emitter","follow","api","$http","get","then","res","success","$route","params","category","categoryList","getTotlePage","document","catch","post","product_id","qty","message","searchKey","query","mounted","on"],"sourceRoot":""}